<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ASAP Jobs ‚Äì Get the best remote jobs sent to you</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: #020617;
      --surface: rgba(15, 23, 42, 0.94);
      --surface-soft: rgba(15, 23, 42, 0.75);
      --text-main: #e5e7eb;
      --text-muted: #9ca3af;
      --accent: #38bdf8;
      --accent-strong: #6366f1;
      --success: #22c55e;
      --danger: #f97373;
      --border: rgba(148, 163, 184, 0.4);
      --border-soft: rgba(55, 65, 81, 0.85);
      --pill-bg: rgba(15, 23, 42, 0.9);
      --shadow-soft: 0 40px 100px rgba(0, 0, 0, 0.85);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      color: var(--text-main);
      /* Fire ‚Üí sky gradient */
      background:
        radial-gradient(circle at 0% 0%, #ffb37a 0%, #ff8a3d 18%, transparent 55%),
        radial-gradient(circle at 100% 0%, #9dd4ff 0%, #0ea5e9 28%, transparent 55%),
        radial-gradient(circle at 50% 100%, #020617 0%, #020617 45%, #000 100%);
      min-height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    body::before,
    body::after {
      content: "";
      position: fixed;
      inset: -40%;
      border-radius: 50%;
      border: 1px solid rgba(56, 189, 248, 0.18);
      box-shadow:
        0 0 40px rgba(56, 189, 248, 0.25),
        0 0 120px rgba(37, 99, 235, 0.3);
      pointer-events: none;
      mix-blend-mode: screen;
      opacity: 0.55;
      animation: orbit 32s linear infinite;
    }

    body::after {
      border-color: rgba(129, 140, 248, 0.65);
      opacity: 0.35;
      animation-duration: 46s;
      animation-direction: reverse;
    }

    @keyframes orbit {
      0% {
        transform: translate3d(-8%, -4%, 0) scale(1.05) rotate(0deg);
      }
      50% {
        transform: translate3d(6%, 2%, 0) scale(1.1) rotate(180deg);
      }
      100% {
        transform: translate3d(-8%, -4%, 0) scale(1.05) rotate(360deg);
      }
    }

    .page {
      max-width: 1120px;
      margin: 0 auto;
      padding: 2.5rem 1.25rem 3.5rem;
      position: relative;
      z-index: 1;
    }

    header {
      text-align: center;
      margin-bottom: 1.8rem;
    }

    .brand-row {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.7rem;
      margin-bottom: 1.2rem;
    }

    .brand-logo {
      width: clamp(240px, 28vw, 360px);
      height: auto;
      object-fit: contain;
      border-radius: 1.6rem;
      box-shadow:
        0 24px 80px rgba(0, 0, 0, 0.9),
        0 0 42px rgba(249, 115, 22, 0.45),
        0 0 70px rgba(59, 130, 246, 0.45),
        0 0 0 1px rgba(148, 163, 184, 0.55);
      animation:
        logoFloat 7s ease-in-out infinite,
        logoGlow 6s ease-in-out infinite;
      background: radial-gradient(circle at 0 0, rgba(248, 113, 22, 0.3), transparent 55%),
        radial-gradient(circle at 100% 0, rgba(59, 130, 246, 0.35), transparent 55%);
    }

    @keyframes logoFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    @keyframes logoGlow {
      0%, 100% {
        box-shadow:
          0 30px 90px rgba(0, 0, 0, 0.9),
          0 0 32px rgba(249, 115, 22, 0.35),
          0 0 60px rgba(59, 130, 246, 0.4),
          0 0 0 1px rgba(148, 163, 184, 0.55);
      }
      50% {
        box-shadow:
          0 50px 120px rgba(0, 0, 0, 1),
          0 0 70px rgba(249, 115, 22, 0.55),
          0 0 110px rgba(37, 99, 235, 0.6),
          0 0 0 1px rgba(191, 219, 254, 0.7);
      }
    }

    .brand-text-main {
      font-size: 1.15rem;
      text-transform: uppercase;
      letter-spacing: 0.22em;
      font-weight: 800;
      color: #e5e7eb;
    }

    .brand-text-sub {
      font-size: 0.9rem;
      color: var(--text-muted);
      margin-top: 0.1rem;
    }

    .hero-title {
      font-size: clamp(2.5rem, 4.5vw, 3.3rem);
      font-weight: 800;
      letter-spacing: -0.04em;
      margin: 0 0 1rem;
      text-align: center;
      color: #e5e7eb;
    }

    .hero-title span.highlight {
      background: linear-gradient(120deg, #38bdf8, #6366f1, #a855f7);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      margin: 0 auto;
      margin-top: 0.45rem;
      font-size: 1rem;
      color: var(--text-muted);
      max-width: 640px;
      line-height: 1.7;
      text-align: center;
    }

    .trust-strip {
      margin-top: 1.75rem;
      text-align: center;
      color: var(--text-muted);
      font-size: 0.86rem;
    }

    .trust-strip-count {
      font-size: 0.88rem;
      margin-bottom: 0.4rem;
    }

    .trust-strip-count #subscriberCount {
      font-weight: 600;
      color: #e5e7eb;
      text-shadow: 0 0 10px rgba(56, 189, 248, 0.6);
    }

    .trust-marquee {
      position: relative;
      overflow: hidden;
      mask-image: linear-gradient(to right, transparent, black 12%, black 88%, transparent);
      -webkit-mask-image: linear-gradient(to right, transparent, black 12%, black 88%, transparent);
      padding: 0.3rem 0;
    }

    .trust-marquee-track {
      display: inline-flex;
      gap: 2.6rem;
      align-items: center;
      will-change: transform;
      animation: trustMarquee 34s linear infinite;
    }

    @keyframes trustMarquee {
      0% { transform: translateX(0); }
      100% { transform: translateX(-50%); }
    }

    .trust-logo {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.28em;
      font-weight: 500;
      color: #e5e7eb;
      opacity: 0.88;
      white-space: nowrap;
    }

    .trust-logo--accent {
      opacity: 0.96;
      text-shadow: 0 0 12px rgba(56, 189, 248, 0.9);
    }

    .card {
      margin-top: 2.4rem;
      background:
        radial-gradient(circle at top, rgba(37, 99, 235, 0.22), transparent 55%),
        var(--surface);
      border-radius: 1.7rem;
      padding: 1.8rem 1.35rem 2rem;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.55);
      backdrop-filter: blur(18px);
      -webkit-backdrop-filter: blur(18px);
      position: relative;
      overflow: hidden;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -40%;
      background: radial-gradient(circle at 10% -10%, rgba(56, 189, 248, 0.18), transparent 55%);
      opacity: 0.9;
      pointer-events: none;
      mix-blend-mode: screen;
    }

    @media (min-width: 768px) {
      .card {
        padding: 2.1rem 2.25rem 2.3rem;
      }
    }

    .step-label {
      font-size: 0.76rem;
      text-transform: uppercase;
      letter-spacing: 0.2em;
      color: var(--accent);
      font-weight: 700;
      margin-bottom: 0.3rem;
    }

    .step-title {
      margin: 0 0 0.45rem;
      font-size: 1.1rem;
      font-weight: 700;
      color: #f9fafb;
    }

    .step-copy {
      margin: 0 0 1rem;
      font-size: 0.9rem;
      color: var(--text-muted);
      max-width: 640px;
    }

    .pill-highlight {
      display: inline-flex;
      align-items: center;
      gap: 0.32rem;
      padding: 0.4rem 0.85rem;
      border-radius: 999px;
      background: rgba(8, 47, 73, 0.9);
      color: #7dd3fc;
      font-size: 0.78rem;
      font-weight: 500;
      margin-bottom: 1rem;
      border: 1px solid rgba(56, 189, 248, 0.4);
      box-shadow: 0 0 18px rgba(56, 189, 248, 0.35);
    }

    .field-row {
      display: flex;
      flex-direction: column;
      gap: 0.95rem;
      margin-bottom: 1.1rem;
    }

    @media (min-width: 640px) {
      .field-row--2 {
        flex-direction: row;
      }
    }

    .field {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.4rem;
    }

    .field-label {
      font-size: 0.8rem;
      font-weight: 500;
      color: #e5e7eb;
    }

    .input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      padding: 0.75rem 1rem;
      font-size: 0.9rem;
      outline: none;
      background: #020617;
      color: #e5e7eb;
      transition:
        border-color 0.14s ease,
        box-shadow 0.14s ease,
        background 0.14s ease,
        transform 0.14s ease;
    }

    .input::placeholder {
      color: #6b7280;
    }

    .input:focus {
      border-color: var(--accent);
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.35),
        0 0 25px rgba(56, 189, 248, 0.4);
      background: #020617;
      transform: translateY(-0.5px);
    }

    .input-error {
      border-color: var(--danger);
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.6);
    }

    .btn {
      border-radius: 999px;
      border: none;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      padding: 0.78rem 1.6rem;
      white-space: nowrap;
      transition:
        transform 0.12s ease,
        box-shadow 0.12s ease,
        filter 0.12s ease,
        background 0.12s ease;
    }

    .btn-primary {
      position: relative;
      background-image: linear-gradient(120deg, #f97316, #fb923c, #2563eb);
      background-size: 140% 140%;
      color: #e5e7eb;
      border: 1px solid rgba(191, 219, 254, 0.7);
      box-shadow:
        0 14px 32px rgba(15, 23, 42, 0.85),
        0 0 22px rgba(56, 189, 248, 0.55);
      text-shadow: 0 0 10px rgba(15, 23, 42, 0.9);
      animation:
        buttonGradient 6s ease-in-out infinite,
        buttonPulse 2.8s ease-in-out infinite;
    }

    .btn-primary::before {
      content: "";
      position: absolute;
      inset: 0;
      border-radius: inherit;
      border: 1px solid rgba(248, 250, 252, 0.18);
      opacity: 0.85;
      mix-blend-mode: screen;
      pointer-events: none;
    }

    .btn-primary:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow:
        0 18px 40px rgba(15, 23, 42, 0.9),
        0 0 30px rgba(255, 115, 21, 0.55),
        0 0 16px rgba(255, 80, 0, 0.4);
      filter: brightness(1.06);
    }

    .btn-primary:active:not(:disabled) {
      transform: translateY(0);
      box-shadow:
        0 10px 24px rgba(15, 23, 42, 0.95),
        0 0 18px rgba(56, 189, 248, 0.5);
      filter: brightness(0.98);
    }

    .btn-primary:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
      animation: none;
    }

    @keyframes buttonGradient {
      0%   { background-position: 0% 50%; }
      50%  { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes buttonPulse {
      0%, 100% {
        box-shadow:
          0 14px 32px rgba(15, 23, 42, 0.85),
          0 0 18px rgba(56, 189, 248, 0.45);
      }
      50% {
        box-shadow:
          0 18px 44px rgba(15, 23, 42, 0.95),
          0 0 28px rgba(56, 189, 248, 0.7);
      }
    }

    /* Frequency selector */
    .frequency-row {
      margin-top: 0.4rem;
      display: inline-flex;
      flex-wrap: wrap;
      gap: 0.45rem;
    }

    .frequency-option {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: var(--pill-bg);
      padding: 0.45rem 0.9rem;
      font-size: 0.82rem;
      color: #e5e7eb;
      cursor: pointer;
      transition:
        background 0.14s ease,
        border-color 0.14s ease,
        box-shadow 0.14s ease,
        transform 0.14s ease;
    }

    .frequency-option.selected {
      border-color: rgba(56, 189, 248, 0.9);
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.9));
      box-shadow:
        0 0 0 1px rgba(56, 189, 248, 0.4),
        0 0 18px rgba(56, 189, 248, 0.55);
      transform: translateY(-0.5px);
    }

    .step1-footer-text {
      margin: 0.55rem 0 0;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .step-divider {
      height: 1px;
      margin: 1.7rem 0 1.3rem;
      background: linear-gradient(to right, transparent, rgba(148, 163, 184, 0.7), transparent);
    }

    .step2-header {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 0.5rem;
      align-items: baseline;
      margin-bottom: 0.8rem;
    }

    .step2-subcopy {
      font-size: 0.84rem;
      color: var(--text-muted);
    }

    .filter-tabs {
      display: flex;
      flex-wrap: wrap;
      gap: 0.55rem;
      margin-bottom: 1rem;
      padding-bottom: 0.25rem;
    }

    .filter-tab {
      border-radius: 999px;
      border: 1px solid var(--border-soft);
      background: var(--pill-bg);
      padding: 0.48rem 0.95rem;
      display: inline-flex;
      align-items: center;
      gap: 0.38rem;
      cursor: pointer;
      font-size: 0.86rem;
      white-space: nowrap;
      color: #e5e7eb;
      transition:
        border-color 0.14s ease,
        background 0.14s ease,
        box-shadow 0.14s ease,
        color 0.14s ease,
        transform 0.14s ease;
    }

    .filter-tab.active {
      border-color: rgba(255, 90, 0, 0.85);
      background: linear-gradient(135deg, rgba(15, 23, 42, 0.95), rgba(15, 23, 42, 0.9));
      box-shadow:
        0 0 0 1px rgba(255, 115, 21, 0.45),
        0 0 18px rgba(255, 95, 0, 0.55);
      transform: translateY(-0.5px);
    }

    .filter-icon { flex-shrink: 0; }
    .filter-tab-label { font-weight: 500; }
    .filter-tab-summary {
      font-size: 0.76rem;
      color: var(--text-muted);
    }

    .filter-tab.missing {
      border-color: #f97373 !important;
      background: rgba(127, 29, 29, 0.95) !important;
      box-shadow: 0 0 0 1px rgba(248, 113, 113, 0.75) !important;
      color: #fee2e2 !important;
    }

    .filter-tab-missing-icon {
      font-size: 0.85rem;
      margin-left: 0.25rem;
    }

    .filter-panel {
      border-radius: 1.1rem;
      border: 1px solid var(--border);
      background: var(--surface-soft);
      padding: 0.8rem 1rem 0.9rem;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .filter-panel-top {
      display: flex;
      align-items: baseline;
      justify-content: space-between;
      gap: 0.8rem;
      margin-bottom: 0.55rem;
    }

    .filter-panel-label {
      font-size: 0.86rem;
      font-weight: 600;
      color: #e5e7eb;
    }

    .filter-panel-summary {
      font-size: 0.8rem;
      color: var(--text-muted);
      text-align: right;
      white-space: nowrap;
    }

    .filter-panel-search { margin-bottom: 0.4rem; }

    .dropdown-search {
      width: 100%;
      border-radius: 999px;
      border: 1px solid rgba(75, 85, 99, 0.95);
      padding: 0.48rem 0.85rem;
      font-size: 0.84rem;
      outline: none;
      background: #020617;
      color: #e5e7eb;
    }

    .dropdown-search::placeholder { color: #6b7280; }

    .dropdown-search:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.3);
      background: #020617;
    }

    .dropdown-body {
      padding: 0.25rem 0;
      max-height: 220px;
      overflow: auto;
      -webkit-overflow-scrolling: touch;
    }

    .dropdown-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.4rem 0.85rem;
      font-size: 0.86rem;
      cursor: pointer;
      color: #e5e7eb;
    }

    .dropdown-item:hover {
      background: rgba(37, 99, 235, 0.35);
    }

    .dropdown-item input { margin: 0; }

    .dropdown-item-label {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
    }

    .dropdown-empty {
      padding: 0.55rem 0.95rem 0.8rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .hidden { display: none !important; }

    .salary-row {
      margin-top: 0.85rem;
      display: flex;
      align-items: center;
      gap: 0.45rem;
      font-size: 0.88rem;
      color: #f9fafb;
    }

    .salary-row input {
      width: 16px;
      height: 16px;
    }

    .salary-label span { margin-right: 0.15rem; }

    .step2-footer-text {
      margin-top: 0.55rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .cta-row { margin-top: 1rem; }

    .status-message {
      margin-top: 0.7rem;
      font-size: 0.84rem;
    }

    .status-message.success { color: var(--success); }
    .status-message.error { color: var(--danger); }

    /* Success overlay modal */

    .success-overlay {
      position: fixed;
      inset: 0;
      background: rgba(15, 23, 42, 0.72);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 50;
    }

    .success-modal {
      background: var(--surface);
      border-radius: 1.5rem;
      padding: 1.75rem 1.6rem 1.5rem;
      max-width: 420px;
      margin: 0 1.5rem;
      text-align: center;
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(148, 163, 184, 0.6);
    }

    .success-modal-title {
      margin: 0 0 0.6rem;
      font-size: 1.4rem;
      font-weight: 700;
      color: #f9fafb;
    }

    .success-modal-body {
      margin: 0 0 1.2rem;
      font-size: 0.95rem;
      color: var(--text-muted);
    }

    .success-modal-btn {
      margin-top: 0.4rem;
      width: 100%;
      justify-content: center;
    }

    @media (max-width: 720px) {
      .filter-tabs {
        flex-wrap: nowrap;
        overflow-x: auto;
        padding-bottom: 0.4rem;
      }

      .brand-logo {
        width: min(260px, 72vw);
        height: auto;
      }
    }

    @media (max-width: 600px) {
      .card {
        border-radius: 1.3rem;
        padding: 1.5rem 1.1rem 1.6rem;
      }

      .filter-panel-top {
        flex-direction: column;
        align-items: flex-start;
      }
    }
  </style>
</head>
<body>
  <div class="page">
    <header>
      <div class="brand-row">
        <img src="asap-logo-wide.png" alt="ASAP ‚Äì remote jobs, fast" class="brand-logo" />
        <div>
          <div class="brand-text-main">ASAP JOBS</div>
          <div class="brand-text-sub">High-paying remote roles, delivered fast</div>
        </div>
      </div>

      <h1 class="hero-title">
        Save hours on job hunting. Get the <span class="highlight">best remote jobs</span> in your inbox.
      </h1>
      <p class="hero-subtitle">
        We scan 100+ job boards and company pages, then send you a short list of high-quality remote roles
        that match your filters ‚Äî directly to your inbox.
      </p>

      <section class="trust-strip">
        <p class="trust-strip-count">
          Join <span id="subscriberCount">99,950</span> world-class remote candidates from:
        </p>
        <div class="trust-marquee">
          <div class="trust-marquee-track">
            <span class="trust-logo trust-logo--accent">META</span>
            <span class="trust-logo">MICROSOFT</span>
            <span class="trust-logo">STRIPE</span>
            <span class="trust-logo">AIRBNB</span>
            <span class="trust-logo">OPENAI</span>
            <span class="trust-logo">SHOPIFY</span>
            <span class="trust-logo">GOOGLE</span>
            <span class="trust-logo">APPLE</span>
            <span class="trust-logo">TESLA</span>
            <span class="trust-logo">NVIDIA</span>
            <span class="trust-logo">PERPLEXITY</span>

            <span class="trust-logo trust-logo--accent">META</span>
            <span class="trust-logo">MICROSOFT</span>
            <span class="trust-logo">STRIPE</span>
            <span class="trust-logo">AIRBNB</span>
            <span class="trust-logo">OPENAI</span>
            <span class="trust-logo">SHOPIFY</span>
            <span class="trust-logo">GOOGLE</span>
            <span class="trust-logo">APPLE</span>
            <span class="trust-logo">TESLA</span>
            <span class="trust-logo">NVIDIA</span>
            <span class="trust-logo">PERPLEXITY</span>
          </div>
        </div>
      </section>
    </header>

    <main class="card">
      <section>
        <div class="step-label">Step 1 ¬∑ Your email</div>
        <h2 class="step-title">Start your personalized job feed.</h2>
        <p class="step-copy">
          Pop in your first name and email. Next, we‚Äôll ask a few quick questions about location,
          experience, salary and job preferences so we only send you relevant roles.
        </p>
        <div class="pill-highlight">
          ‚ö° Hand-picked from hundreds of job boards &amp; company pages
        </div>

        <div class="field-row field-row--2">
          <div class="field">
            <label class="field-label" for="firstNameInput">First name</label>
            <input
              id="firstNameInput"
              type="text"
              class="input"
              autocomplete="given-name"
              placeholder="Alex"
            />
          </div>
          <div class="field">
            <label class="field-label" for="emailInput">Email</label>
            <input
              id="emailInput"
              type="email"
              class="input"
              autocomplete="email"
              placeholder="you@example.com"
            />
          </div>
        </div>

        <button type="button" class="btn btn-primary" id="nextStepButton">
          ‚ö° Continue to filters
        </button>

        <p class="step1-footer-text">
          We‚Äôll never share your email. Next step: we‚Äôll ask for your job preferences.
        </p>
      </section>

      <div class="step-divider"></div>

      <section id="step2" class="hidden">
        <div class="step-label">Step 2 ¬∑ Your job preferences</div>
        <div class="step2-header">
          <h2 class="step-title">Tell us what kind of roles you want.</h2>
          <p class="step2-subcopy">
            Choose at least one option for the filters marked with *. Location, employment, experience and job role are required
            so we only send you relevant roles. Benefits, technologies and languages are optional but help us personalize your job alerts.
          </p>
        </div>

        <div class="filter-tabs" id="filterTabs">
          <button type="button" class="filter-tab active" data-filter="locations">
            <span class="filter-icon">üåç</span>
            <span class="filter-tab-label">Location*</span>
            <span class="filter-tab-summary" data-tab-summary="locations">Any location</span>
          </button>
          <button type="button" class="filter-tab" data-filter="employment">
            <span class="filter-icon">üíº</span>
            <span class="filter-tab-label">Employment*</span>
            <span class="filter-tab-summary" data-tab-summary="employment">Select‚Ä¶</span>
          </button>
          <button type="button" class="filter-tab" data-filter="experience">
            <span class="filter-icon">‚≠ê</span>
            <span class="filter-tab-label">Experience*</span>
            <span class="filter-tab-summary" data-tab-summary="experience">Select‚Ä¶</span>
          </button>
          <button type="button" class="filter-tab" data-filter="jobRoles">
            <span class="filter-icon">üßë‚Äçüíº</span>
            <span class="filter-tab-label">Job Role*</span>
            <span class="filter-tab-summary" data-tab-summary="jobRoles">Search roles‚Ä¶</span>
          </button>

          <button type="button" class="filter-tab" data-filter="benefits">
            <span class="filter-icon">üèñÔ∏è</span>
            <span class="filter-tab-label">Benefits</span>
            <span class="filter-tab-summary" data-tab-summary="benefits">Select‚Ä¶</span>
          </button>
          <button type="button" class="filter-tab" data-filter="technologies">
            <span class="filter-icon">üëæ</span>
            <span class="filter-tab-label">Technologies</span>
            <span class="filter-tab-summary" data-tab-summary="technologies">Select‚Ä¶</span>
          </button>
          <button type="button" class="filter-tab" data-filter="languages">
            <span class="filter-icon">üó£Ô∏è</span>
            <span class="filter-tab-label">Languages</span>
            <span class="filter-tab-summary" data-tab-summary="languages">Select‚Ä¶</span>
          </button>
        </div>

        <div class="filter-panel">
          <div class="filter-panel-top">
            <div class="filter-panel-label" id="filterPanelLabel">Location preferences</div>
            <div class="filter-panel-summary" id="filterPanelSummary">Any location</div>
          </div>
          <div class="filter-panel-search">
            <input
              type="text"
              id="filterSearchInput"
              class="dropdown-search"
              placeholder="Search locations‚Ä¶"
            />
          </div>
          <div id="filterOptionsBody" class="dropdown-body"></div>
        </div>

        <div class="salary-row">
          <input type="checkbox" id="highSalaryOnly" />
          <label for="highSalaryOnly" class="salary-label">
            <span>üí∞</span> High salary only ($100k+)
          </label>
        </div>

        <div class="field" style="margin-top: 1.1rem;">
          <label class="field-label">How often should we send you remote jobs?</label>
          <div class="frequency-row" id="frequencyRow">
            <button type="button" class="frequency-option selected" data-value="biweekly">
              2√ó per week
            </button>
            <button type="button" class="frequency-option" data-value="daily">
              Daily
            </button>
            <button type="button" class="frequency-option" data-value="weekly">
              Weekly
            </button>
          </div>
          <input type="hidden" id="frequencyInput" value="biweekly" />
        </div>

        <p class="step2-footer-text">
          No spam, ever. Unsubscribe in one click. You‚Äôll only receive remote jobs and occasional job-search tips from ASAP.
        </p>

        <div class="cta-row">
          <button type="button" id="subscribeButton" class="btn btn-primary">
            Get remote jobs ASAP ‚ö°
          </button>
          <p id="statusMessage" class="status-message"></p>
        </div>
      </section>
    </main>
  </div>

  <!-- Success popup overlay -->
  <div id="successOverlay" class="success-overlay hidden" role="dialog" aria-modal="true">
    <div class="success-modal">
      <h2 class="success-modal-title">You‚Äôre in! üéâ</h2>
      <p class="success-modal-body">
        <span id="successFirstName"></span>Thanks for subscribing to ASAP Jobs.<br />
        In the next couple of minutes you‚Äôll get a confirmation email. If it lands in Promotions or Spam,
        drag it into your Primary inbox and confirm ‚Äî that tells Gmail/Outlook to keep future ASAP emails in Primary
        so you never miss high-paying remote roles.
      </p>
      <button type="button" id="successCloseButton" class="btn btn-primary success-modal-btn">
        Back to the site
      </button>
    </div>
  </div>

  <script>
    // ---------- Filter data (with emojis + keywords) ----------

    const FILTER_OPTIONS = {
      locations: [
        { value: 'Remote', label: 'üè° Remote' },
        { value: 'Hybrid', label: 'üìç Hybrid' },
        { value: 'Worldwide', label: 'üåç Worldwide' },
        { value: 'North America', label: 'üåé North America' },
        { value: 'Latin America', label: 'üåé Latin America' },
        { value: 'Europe', label: 'üá™üá∫ Europe' },
        { value: 'EMEA', label: 'üåç EMEA' },
        { value: 'AMER', label: 'üåé AMER' },
        { value: 'APAC', label: 'üåè APAC' },
        { value: 'US', label: 'üá∫üá∏ United States' },
        { value: 'Canada', label: 'üá®üá¶ Canada' },
        { value: 'United Kingdom', label: 'üá¨üáß United Kingdom' },
        { value: 'Australia', label: 'üá¶üá∫ Australia' },
        { value: 'New Zealand', label: 'üá≥üáø New Zealand' },
        { value: 'Africa', label: 'ü¶Å Africa' },
        { value: 'Asia', label: 'üóº Asia' },
        { value: 'Oceania', label: 'üåä Oceania' }
      ],
      employment: [
        { value: 'Full-time', label: '‚è∞ Full-time' },
        { value: 'Part-time', label: '‚è±Ô∏è Part-time' },
        { value: 'Freelance', label: 'üßæ Freelance' },
        { value: 'Contract', label: 'üìÑ Contract' },
        { value: 'Temporary', label: 'üìÜ Temporary' },
        { value: '4-day week', label: 'üå¥ 4-day week' }
      ],
      experience: [
        {
          value: 'Entry Level',
          label: 'ü™¥ Entry Level ¬∑ 0‚Äì1 yrs',
          keywords: ['entry', 'junior', 'new grad', 'graduate']
        },
        {
          value: 'Junior',
          label: 'üë∂ Junior ¬∑ 1‚Äì3 yrs',
          keywords: ['junior', 'jr']
        },
        {
          value: 'Mid-Level',
          label: '‚≠ê Mid-Level ¬∑ 3‚Äì5 yrs',
          keywords: ['mid', 'intermediate']
        },
        {
          value: 'Senior',
          label: 'üåü Senior ¬∑ 5‚Äì8 yrs',
          keywords: ['senior', 'sr']
        },
        {
          value: 'Lead',
          label: 'üß≠ Lead ¬∑ 7‚Äì10 yrs',
          keywords: ['lead', 'principal']
        },
        {
          value: 'Director',
          label: 'üéØ Director ¬∑ 10+ yrs',
          keywords: ['director', 'head of']
        },
        {
          value: 'Executive',
          label: 'üíº Executive ¬∑ 10+ yrs (VP / C-level)',
          keywords: ['vp', 'c-level', 'chief', 'executive']
        }
      ],

      // CONCRETE job roles (engineering, data, AI, growth, content, social, email, etc.)
      jobRoles: [
        // ENGINEERING / DEVELOPMENT
        {
          value: 'Software Engineer',
          label: 'üë®‚Äçüíª Software Engineer',
          category: 'Engineering',
          keywords: ['software engineer', 'software developer', 'swe', 'software dev', 'engineer']
        },
        {
          value: 'Backend Engineer',
          label: 'üß± Backend Engineer',
          category: 'Engineering',
          keywords: ['backend engineer', 'back-end engineer', 'backend developer', 'server-side']
        },
        {
          value: 'Frontend Engineer',
          label: 'üé® Frontend Engineer',
          category: 'Engineering',
          keywords: ['frontend engineer', 'front-end engineer', 'frontend developer', 'ui engineer']
        },
        {
          value: 'Full-Stack Engineer',
          label: 'üß© Full-Stack Engineer',
          category: 'Engineering',
          keywords: ['full-stack', 'fullstack', 'full stack developer', 'end-to-end engineer']
        },
        {
          value: 'JavaScript Developer',
          label: '‚ú® JavaScript Developer',
          category: 'Engineering',
          keywords: ['javascript developer', 'js developer', 'frontend', 'node', 'react']
        },
        {
          value: 'TypeScript Developer',
          label: 'üî∑ TypeScript Developer',
          category: 'Engineering',
          keywords: ['typescript developer', 'ts developer', 'typed js', 'frontend', 'fullstack']
        },
        {
          value: 'React Developer',
          label: '‚öõÔ∏è React Developer',
          category: 'Engineering',
          keywords: ['react developer', 'reactjs', 'react.js', 'frontend engineer']
        },
        {
          value: 'Next.js Developer',
          label: '‚è≠Ô∏è Next.js Developer',
          category: 'Engineering',
          keywords: ['next.js', 'nextjs', 'react', 'fullstack']
        },
        {
          value: 'Vue.js Developer',
          label: 'üñºÔ∏è Vue.js Developer',
          category: 'Engineering',
          keywords: ['vue developer', 'vue.js', 'vuejs', 'frontend']
        },
        {
          value: 'Angular Developer',
          label: 'üÖ∞Ô∏è Angular Developer',
          category: 'Engineering',
          keywords: ['angular developer', 'angularjs', 'angular']
        },
        {
          value: 'Node.js Developer',
          label: 'üü¢ Node.js Developer',
          category: 'Engineering',
          keywords: ['node developer', 'node.js', 'nodejs', 'backend']
        },
        {
          value: 'Python Developer',
          label: 'üêç Python Developer',
          category: 'Engineering',
          keywords: ['python developer', 'backend python', 'django', 'flask', 'fastapi']
        },
        {
          value: 'Django Developer',
          label: 'üß± Django Developer',
          category: 'Engineering',
          keywords: ['django developer', 'python', 'fullstack python']
        },
        {
          value: 'Ruby on Rails Developer',
          label: 'üíé Ruby on Rails Developer',
          category: 'Engineering',
          keywords: ['ruby developer', 'rails developer', 'ror']
        },
        {
          value: 'Go Developer',
          label: 'üêπ Go Developer',
          category: 'Engineering',
          keywords: ['go developer', 'golang developer', 'backend go']
        },
        {
          value: 'Java Developer',
          label: '‚òï Java Developer',
          category: 'Engineering',
          keywords: ['java developer', 'spring', 'spring boot', 'backend java']
        },
        {
          value: 'PHP Developer',
          label: 'üêò PHP Developer',
          category: 'Engineering',
          keywords: ['php developer', 'laravel', 'symfony']
        },
        {
          value: 'Laravel Developer',
          label: 'üì¶ Laravel Developer',
          category: 'Engineering',
          keywords: ['laravel developer', 'php laravel', 'backend']
        },
        {
          value: 'C# /.NET Developer',
          label: 'üíª C# /.NET Developer',
          category: 'Engineering',
          keywords: ['c# developer', '.net developer', 'dotnet']
        },
        {
          value: 'iOS Developer',
          label: 'üì± iOS Developer',
          category: 'Mobile',
          keywords: ['ios developer', 'swift developer', 'iphone', 'mobile ios']
        },
        {
          value: 'Android Developer',
          label: 'ü§ñ Android Developer',
          category: 'Mobile',
          keywords: ['android developer', 'kotlin developer', 'mobile android']
        },
        {
          value: 'Mobile App Developer',
          label: 'üì± Mobile App Developer',
          category: 'Mobile',
          keywords: ['mobile engineer', 'mobile dev', 'ios', 'android', 'cross-platform']
        },
        {
          value: 'React Native Developer',
          label: 'üì± React Native Developer',
          category: 'Mobile',
          keywords: ['react native developer', 'rn developer', 'mobile']
        },
        {
          value: 'Flutter Developer',
          label: 'üì± Flutter Developer',
          category: 'Mobile',
          keywords: ['flutter developer', 'dart developer', 'mobile']
        },
        {
          value: 'Shopify Developer',
          label: 'üõí Shopify Developer',
          category: 'Engineering',
          keywords: ['shopify developer', 'shopify engineer', 'ecommerce developer']
        },
        {
          value: 'WordPress Developer',
          label: 'üì∞ WordPress Developer',
          category: 'Engineering',
          keywords: ['wordpress developer', 'wp developer', 'cms developer']
        },

        // DEVOPS / SRE / CLOUD
        {
          value: 'DevOps Engineer',
          label: 'üîÅ DevOps Engineer',
          category: 'DevOps / Platform',
          keywords: ['devops engineer', 'dev ops', 'platform engineer', 'infra engineer']
        },
        {
          value: 'Senior DevOps Engineer',
          label: 'üîÅ Senior DevOps Engineer',
          category: 'DevOps / Platform',
          keywords: ['senior devops', 'lead devops', 'staff devops']
        },
        {
          value: 'Site Reliability Engineer (SRE)',
          label: 'üõ∞Ô∏è Site Reliability Engineer (SRE)',
          category: 'DevOps / Platform',
          keywords: ['sre', 'site reliability', 'reliability engineer']
        },
        {
          value: 'Platform Engineer',
          label: 'üß± Platform Engineer',
          category: 'DevOps / Platform',
          keywords: ['platform engineer', 'platform dev', 'internal tools']
        },
        {
          value: 'Cloud Engineer',
          label: '‚òÅÔ∏è Cloud Engineer',
          category: 'DevOps / Platform',
          keywords: ['cloud engineer', 'cloud developer', 'aws', 'gcp', 'azure']
        },
        {
          value: 'AWS Engineer',
          label: '‚òÅÔ∏è AWS Engineer',
          category: 'DevOps / Platform',
          keywords: ['aws engineer', 'aws devops', 'aws cloud']
        },
        {
          value: 'Azure Engineer',
          label: '‚òÅÔ∏è Azure Engineer',
          category: 'DevOps / Platform',
          keywords: ['azure engineer', 'azure devops', 'microsoft azure']
        },
        {
          value: 'GCP Engineer',
          label: '‚òÅÔ∏è GCP Engineer',
          category: 'DevOps / Platform',
          keywords: ['gcp engineer', 'google cloud engineer']
        },
        {
          value: 'Kubernetes Engineer',
          label: '‚ò∏Ô∏è Kubernetes Engineer',
          category: 'DevOps / Platform',
          keywords: ['kubernetes engineer', 'k8s', 'container orchestration']
        },
        {
          value: 'Infrastructure Engineer',
          label: 'üõ†Ô∏è Infrastructure Engineer',
          category: 'DevOps / Platform',
          keywords: ['infrastructure engineer', 'infra engineer', 'systems engineer']
        },

        // DATA & ANALYTICS / AI
        {
          value: 'Data Engineer',
          label: 'üß± Data Engineer',
          category: 'Data',
          keywords: ['data engineer', 'etl engineer', 'data pipelines']
        },
        {
          value: 'Senior Data Engineer',
          label: 'üß± Senior Data Engineer',
          category: 'Data',
          keywords: ['senior data engineer', 'lead data engineer']
        },
        {
          value: 'Analytics Engineer',
          label: 'üìä Analytics Engineer',
          category: 'Data',
          keywords: ['analytics engineer', 'dbt', 'warehouse modeller']
        },
        {
          value: 'Big Data Engineer',
          label: 'üìä Big Data Engineer',
          category: 'Data',
          keywords: ['big data', 'spark engineer', 'hadoop engineer']
        },
        {
          value: 'Data Warehouse Engineer',
          label: 'üèóÔ∏è Data Warehouse Engineer',
          category: 'Data',
          keywords: ['data warehouse', 'snowflake', 'bigquery', 'redshift']
        },
        {
          value: 'BI Engineer',
          label: 'üìà BI Engineer',
          category: 'Data',
          keywords: ['bi engineer', 'business intelligence', 'bi developer']
        },
        {
          value: 'Data Analyst',
          label: 'üìä Data Analyst',
          category: 'Data / Analytics',
          keywords: ['data analyst', 'business analyst', 'bi analyst']
        },
        {
          value: 'Data Scientist',
          label: 'üìä Data Scientist',
          category: 'Data',
          keywords: ['data scientist', 'ml scientist', 'quant']
        },
        {
          value: 'Senior Data Scientist',
          label: 'üìä Senior Data Scientist',
          category: 'Data',
          keywords: ['senior data scientist', 'principal data scientist']
        },
        {
          value: 'Machine Learning Engineer',
          label: 'ü§ñ Machine Learning Engineer',
          category: 'AI / ML',
          keywords: ['ml engineer', 'machine learning engineer', 'ml dev']
        },
        {
          value: 'Senior Machine Learning Engineer',
          label: 'ü§ñ Senior Machine Learning Engineer',
          category: 'AI / ML',
          keywords: ['senior ml engineer', 'staff ml engineer']
        },
        {
          value: 'MLOps Engineer',
          label: 'üîÅ MLOps Engineer',
          category: 'AI / ML',
          keywords: ['mlops engineer', 'ml ops', 'ml platform']
        },
        {
          value: 'NLP Engineer',
          label: 'üí¨ NLP Engineer',
          category: 'AI / ML',
          keywords: ['nlp engineer', 'natural language processing', 'language models']
        },
        {
          value: 'Computer Vision Engineer',
          label: 'üëÅÔ∏è Computer Vision Engineer',
          category: 'AI / ML',
          keywords: ['computer vision', 'cv engineer', 'image processing']
        },
        {
          value: 'AI Engineer',
          label: 'üß† AI Engineer',
          category: 'AI / ML',
          keywords: ['ai engineer', 'ai developer', 'ml engineer']
        },
        {
          value: 'Generative AI Engineer',
          label: '‚ú® Generative AI Engineer',
          category: 'AI / ML',
          keywords: ['gen ai engineer', 'generative ai', 'llm engineer', 'gpt']
        },
        {
          value: 'Prompt Engineer',
          label: 'üí° Prompt Engineer',
          category: 'AI / ML',
          keywords: ['prompt engineer', 'prompt designer', 'llm prompts']
        },

        // QA / SECURITY / BLOCKCHAIN
        {
          value: 'QA Engineer',
          label: 'üß™ QA Engineer',
          category: 'Quality',
          keywords: ['qa engineer', 'quality assurance', 'test engineer']
        },
        {
          value: 'QA Automation Engineer',
          label: 'ü§ñ QA Automation Engineer',
          category: 'Quality',
          keywords: ['qa automation', 'test automation', 'sdet']
        },
        {
          value: 'Test Engineer',
          label: 'üß™ Test Engineer',
          category: 'Quality',
          keywords: ['test engineer', 'testing', 'quality']
        },
        {
          value: 'Security Engineer',
          label: 'üîê Security Engineer',
          category: 'Security',
          keywords: ['security engineer', 'infosec engineer', 'cybersecurity']
        },
        {
          value: 'Application Security Engineer',
          label: 'üõ°Ô∏è Application Security Engineer',
          category: 'Security',
          keywords: ['appsec', 'application security', 'security engineer']
        },
        {
          value: 'Cloud Security Engineer',
          label: '‚òÅÔ∏è Cloud Security Engineer',
          category: 'Security',
          keywords: ['cloud security', 'cloud infosec', 'aws security']
        },
        {
          value: 'Cybersecurity Analyst',
          label: 'üïµÔ∏è Cybersecurity Analyst',
          category: 'Security',
          keywords: ['cybersecurity analyst', 'security analyst', 'soc analyst']
        },
        {
          value: 'Blockchain Developer',
          label: '‚õìÔ∏è Blockchain Developer',
          category: 'Web3',
          keywords: ['blockchain developer', 'solidity', 'smart contract']
        },
        {
          value: 'Web3 Developer',
          label: 'üåê Web3 Developer',
          category: 'Web3',
          keywords: ['web3 dev', 'defi developer', 'crypto engineer']
        },

        // PRODUCT
        {
          value: 'Product Manager',
          label: 'üì¶ Product Manager',
          category: 'Product',
          keywords: ['product manager', 'pm', 'product owner']
        },
        {
          value: 'Senior Product Manager',
          label: 'üì¶ Senior Product Manager',
          category: 'Product',
          keywords: ['senior pm', 'lead product manager', 'staff pm']
        },
        {
          value: 'Technical Product Manager',
          label: '‚öôÔ∏è Technical Product Manager',
          category: 'Product',
          keywords: ['tpm', 'technical pm', 'platform pm']
        },
        {
          value: 'Growth Product Manager',
          label: 'üìà Growth Product Manager',
          category: 'Product / Growth',
          keywords: ['growth pm', 'product growth', 'conversion']
        },
        {
          value: 'Product Owner',
          label: 'üì¶ Product Owner',
          category: 'Product',
          keywords: ['product owner', 'scrum product owner']
        },
        {
          value: 'Data Product Manager',
          label: 'üìä Data Product Manager',
          category: 'Product / Data',
          keywords: ['data pm', 'analytics pm', 'data products']
        },
        {
          value: 'AI Product Manager',
          label: 'ü§ñ AI Product Manager',
          category: 'Product / AI',
          keywords: ['ai pm', 'ml product manager', 'llm product']
        },
        {
          value: 'Product Marketing Manager',
          label: 'üì£ Product Marketing Manager',
          category: 'Marketing',
          keywords: ['product marketing manager', 'pmm', 'go-to-market', 'gtm']
        },

        // DESIGN / UX
        {
          value: 'UX Designer',
          label: 'üé® UX Designer',
          category: 'Design',
          keywords: ['ux designer', 'user experience designer']
        },
        {
          value: 'UI Designer',
          label: 'üñåÔ∏è UI Designer',
          category: 'Design',
          keywords: ['ui designer', 'user interface designer', 'visual designer']
        },
        {
          value: 'Product Designer',
          label: 'üé® Product Designer',
          category: 'Design',
          keywords: ['product designer', 'ux/ui designer']
        },
        {
          value: 'UX/UI Designer',
          label: 'üé® UX/UI Designer',
          category: 'Design',
          keywords: ['ux ui designer', 'ui/ux']
        },
        {
          value: 'UX Researcher',
          label: 'üîç UX Researcher',
          category: 'Design',
          keywords: ['ux researcher', 'user research', 'design researcher']
        },

        // MARKETING / GROWTH / SEO / ASO / CONTENT / SOCIAL / EMAIL
        {
          value: 'Digital Marketing Manager',
          label: 'üì£ Digital Marketing Manager',
          category: 'Marketing',
          keywords: ['digital marketing manager', 'online marketing', 'marketing manager']
        },
        {
          value: 'Marketing Manager',
          label: 'üì£ Marketing Manager',
          category: 'Marketing',
          keywords: ['marketing manager', 'brand marketing manager']
        },
        {
          value: 'Senior Marketing Manager',
          label: 'üì£ Senior Marketing Manager',
          category: 'Marketing',
          keywords: ['senior marketing manager', 'lead marketing']
        },
        {
          value: 'Head of Marketing',
          label: 'üì£ Head of Marketing',
          category: 'Marketing',
          keywords: ['head of marketing', 'marketing lead', 'marketing director']
        },
        {
          value: 'Growth Marketing Manager',
          label: 'üöÄ Growth Marketing Manager',
          category: 'Growth / Marketing',
          keywords: ['growth marketer', 'growth marketing manager', 'performance marketing']
        },
        {
          value: 'Head of Growth',
          label: 'üöÄ Head of Growth',
          category: 'Growth / Marketing',
          keywords: ['head of growth', 'growth lead', 'growth director']
        },
        {
          value: 'Performance Marketing Manager',
          label: 'üìà Performance Marketing Manager',
          category: 'Growth / Marketing',
          keywords: ['performance marketing', 'ppc manager', 'paid marketing']
        },
        {
          value: 'Demand Generation Manager',
          label: 'üìà Demand Generation Manager',
          category: 'Growth / Marketing',
          keywords: ['demand gen', 'demand generation', 'pipeline marketing']
        },

        // SEO ROLES
        {
          value: 'SEO Specialist',
          label: 'üîç SEO Specialist',
          category: 'Growth / SEO',
          keywords: ['seo specialist', 'seo expert', 'search engine optimization', 'seo analyst']
        },
        {
          value: 'SEO Analyst',
          label: 'üìä SEO Analyst',
          category: 'Growth / SEO',
          keywords: ['seo analyst', 'seo data', 'seo reporting']
        },
        {
          value: 'SEO Manager',
          label: 'üìà SEO Manager',
          category: 'Growth / SEO',
          keywords: ['seo manager', 'seo lead', 'seo strategist']
        },
        {
          value: 'Senior SEO Manager',
          label: 'üìà Senior SEO Manager',
          category: 'Growth / SEO',
          keywords: ['senior seo manager', 'lead seo', 'seo head']
        },
        {
          value: 'SEO Team Lead',
          label: 'üìà SEO Team Lead',
          category: 'Growth / SEO',
          keywords: ['seo team lead', 'seo lead', 'seo manager']
        },
        {
          value: 'Head of SEO',
          label: 'üìà Head of SEO',
          category: 'Growth / SEO',
          keywords: ['head of seo', 'seo director', 'seo lead']
        },

        // ASO ROLES
        {
          value: 'ASO Specialist',
          label: 'üì± ASO Specialist',
          category: 'Growth / ASO',
          keywords: ['aso specialist', 'app store optimization', 'aso expert']
        },
        {
          value: 'ASO Expert',
          label: 'üì± ASO Expert',
          category: 'Growth / ASO',
          keywords: ['aso expert', 'aso manager', 'app store seo', 'aso']
        },
        {
          value: 'App Store Optimization Manager',
          label: 'üì± App Store Optimization Manager',
          category: 'Growth / ASO',
          keywords: ['aso manager', 'app store optimization manager']
        },

        // CONTENT / SOCIAL / EMAIL
        {
          value: 'Content Marketing Manager',
          label: '‚úçÔ∏è Content Marketing Manager',
          category: 'Marketing / Content',
          keywords: ['content marketing manager', 'content lead', 'content strategist']
        },
        {
          value: 'Head of Content',
          label: '‚úçÔ∏è Head of Content',
          category: 'Marketing / Content',
          keywords: ['head of content', 'content director', 'content lead']
        },
        {
          value: 'Content Strategist',
          label: '‚úçÔ∏è Content Strategist',
          category: 'Marketing / Content',
          keywords: ['content strategist', 'content strategy']
        },
        {
          value: 'Content Writer',
          label: '‚úçÔ∏è Content Writer',
          category: 'Marketing / Content',
          keywords: ['content writer', 'blog writer', 'content creator']
        },
        {
          value: 'Copywriter',
          label: '‚úçÔ∏è Copywriter',
          category: 'Marketing / Content',
          keywords: ['copywriter', 'conversion copywriter', 'marketing copywriter']
        },
        {
          value: 'Social Media Manager',
          label: 'üì± Social Media Manager',
          category: 'Marketing / Social',
          keywords: ['social media manager', 'social media marketer', 'social media']
        },
        {
          value: 'Social Media Strategist',
          label: 'üì± Social Media Strategist',
          category: 'Marketing / Social',
          keywords: ['social media strategist', 'social strategy']
        },
        {
          value: 'Paid Search Specialist',
          label: 'üí∞ Paid Search Specialist',
          category: 'Growth / Paid',
          keywords: ['paid search', 'sem specialist', 'google ads', 'ppc']
        },
        {
          value: 'PPC Specialist',
          label: 'üí∞ PPC Specialist',
          category: 'Growth / Paid',
          keywords: ['ppc specialist', 'pay per click', 'sem']
        },
        {
          value: 'Paid Social Specialist',
          label: 'üì± Paid Social Specialist',
          category: 'Growth / Paid',
          keywords: ['paid social', 'facebook ads', 'meta ads', 'tiktok ads']
        },
        {
          value: 'Affiliate Marketing Manager',
          label: 'ü§ù Affiliate Marketing Manager',
          category: 'Growth / Partnerships',
          keywords: ['affiliate marketing', 'affiliate manager', 'partner marketing']
        },
        {
          value: 'Partnerships Manager',
          label: 'ü§ù Partnerships Manager',
          category: 'Growth / Partnerships',
          keywords: ['partnerships manager', 'alliances', 'business development partnerships']
        },
        {
          value: 'Email Marketing Specialist',
          label: 'üìß Email Marketing Specialist',
          category: 'Marketing',
          keywords: ['email marketing', 'newsletter', 'crm campaigns']
        },
        {
          value: 'CRM Marketing Manager',
          label: 'üìß CRM Marketing Manager',
          category: 'Marketing',
          keywords: ['crm manager', 'crm marketing', 'lifecycle marketing']
        },
        {
          value: 'Lifecycle Marketing Manager',
          label: 'üîÅ Lifecycle Marketing Manager',
          category: 'Marketing',
          keywords: ['lifecycle marketing', 'retention marketing', 'crm']
        },
        {
          value: 'Marketing Automation Specialist',
          label: '‚öôÔ∏è Marketing Automation Specialist',
          category: 'Marketing',
          keywords: ['marketing automation', 'hubspot', 'marketo', 'pardot']
        },
        {
          value: 'Community Manager',
          label: 'üë• Community Manager',
          category: 'Marketing / Community',
          keywords: ['community manager', 'community lead']
        },

        // SALES / CS / SUPPORT
        {
          value: 'Sales Development Representative (SDR)',
          label: 'üìû Sales Development Representative (SDR)',
          category: 'Sales',
          keywords: ['sdr', 'sales development', 'inbound sdr', 'outbound sdr']
        },
        {
          value: 'Business Development Representative (BDR)',
          label: 'üìû Business Development Representative (BDR)',
          category: 'Sales',
          keywords: ['bdr', 'business development', 'prospecting', 'outbound']
        },
        {
          value: 'Account Executive',
          label: 'üíº Account Executive',
          category: 'Sales',
          keywords: ['account executive', 'ae', 'closer', 'sales rep']
        },
        {
          value: 'Senior Account Executive',
          label: 'üíº Senior Account Executive',
          category: 'Sales',
          keywords: ['senior ae', 'enterprise ae']
        },
        {
          value: 'Enterprise Account Executive',
          label: 'üè¢ Enterprise Account Executive',
          category: 'Sales',
          keywords: ['enterprise sales', 'enterprise ae', 'b2b enterprise']
        },
        {
          value: 'Sales Manager',
          label: 'üìà Sales Manager',
          category: 'Sales',
          keywords: ['sales manager', 'sales lead', 'sales team lead']
        },
        {
          value: 'Head of Sales',
          label: 'üìà Head of Sales',
          category: 'Sales',
          keywords: ['head of sales', 'sales director', 'vp sales']
        },
        {
          value: 'Account Manager',
          label: 'ü§ù Account Manager',
          category: 'Sales / CS',
          keywords: ['account manager', 'customer account manager', 'farmer']
        },
        {
          value: 'Customer Success Manager',
          label: 'üéß Customer Success Manager',
          category: 'Customer Success',
          keywords: ['customer success manager', 'csm', 'client success manager']
        },
        {
          value: 'Customer Success Specialist',
          label: 'üéß Customer Success Specialist',
          category: 'Customer Success',
          keywords: ['cs specialist', 'customer success']
        },
        {
          value: 'Customer Support Specialist',
          label: 'üéß Customer Support Specialist',
          category: 'Support',
          keywords: ['customer support', 'support agent', 'support specialist']
        },
        {
          value: 'Technical Support Engineer',
          label: 'üõ†Ô∏è Technical Support Engineer',
          category: 'Support / Engineering',
          keywords: ['technical support', 'support engineer', 'tier 2 support']
        },

        // HYBRID / TECH-BUSINESS
        {
          value: 'Technical Evangelist / Developer Advocate',
          label: 'üì£ Developer Advocate',
          category: 'Hybrid / DevRel',
          keywords: ['developer advocate', 'devrel', 'technical evangelist', 'community engineer']
        },
        {
          value: 'Solutions Architect',
          label: 'üèóÔ∏è Solutions Architect',
          category: 'Hybrid / Pre-sales',
          keywords: ['solutions architect', 'solution architect', 'sa']
        },
        {
          value: 'Pre-Sales Engineer',
          label: 'ü§ù Pre-Sales Engineer',
          category: 'Hybrid / Pre-sales',
          keywords: ['pre-sales engineer', 'sales engineer', 'solutions engineer']
        },
        {
          value: 'Customer Success Engineer',
          label: 'üéß Customer Success Engineer',
          category: 'Hybrid / CS',
          keywords: ['customer success engineer', 'solutions engineer cs']
        },
        {
          value: 'Growth Engineer',
          label: 'üöÄ Growth Engineer',
          category: 'Hybrid / Growth',
          keywords: ['growth engineer', 'experimentation engineer', 'product growth engineer']
        },
        {
          value: 'Performance Marketing Engineer',
          label: 'üìà Performance Marketing Engineer',
          category: 'Hybrid / Growth',
          keywords: ['marketing engineer', 'tracking engineer', 'adtech engineer']
        },

        // OPERATIONS / STRATEGY / REVOPS
        {
          value: 'Operations Manager',
          label: '‚öôÔ∏è Operations Manager',
          category: 'Operations',
          keywords: ['operations manager', 'ops manager', 'business operations']
        },
        {
          value: 'Strategy & Operations Lead',
          label: '‚öôÔ∏è Strategy & Operations Lead',
          category: 'Operations',
          keywords: ['strategy and operations', 'bizops', 'ops lead']
        },
        {
          value: 'Chief of Staff',
          label: 'üèõÔ∏è Chief of Staff',
          category: 'Operations / Strategy',
          keywords: ['chief of staff', 'strategy', 'special projects']
        },
        {
          value: 'Revenue Operations Manager',
          label: 'üìà Revenue Operations Manager',
          category: 'Operations / RevOps',
          keywords: ['revops', 'revenue operations', 'sales ops']
        },

        // LEADERSHIP / HEAD OF ROLES
        {
          value: 'Head of Engineering',
          label: 'üèõÔ∏è Head of Engineering',
          category: 'Leadership',
          keywords: ['head of engineering', 'engineering director', 'vp engineering']
        },
        {
          value: 'VP of Engineering',
          label: 'üèõÔ∏è VP of Engineering',
          category: 'Leadership',
          keywords: ['vp engineering', 'vice president engineering']
        },
        {
          value: 'CTO',
          label: 'üèõÔ∏è CTO',
          category: 'Leadership',
          keywords: ['cto', 'chief technology officer']
        },
        {
          value: 'Head of Data & Analytics',
          label: 'üèõÔ∏è Head of Data & Analytics',
          category: 'Leadership / Data',
          keywords: ['head of data', 'head of analytics', 'director of data']
        },
        {
          value: 'Head of AI',
          label: 'üèõÔ∏è Head of AI',
          category: 'Leadership / AI',
          keywords: ['head of ai', 'head of machine learning', 'ai director']
        },
        {
          value: 'Head of Product',
          label: 'üèõÔ∏è Head of Product',
          category: 'Leadership / Product',
          keywords: ['head of product', 'director of product', 'vp product']
        }
      ],

      benefits: [
        { value: 'Health insurance', label: 'ü©∫ Health insurance' },
        { value: 'Dental insurance', label: 'ü¶∑ Dental insurance' },
        { value: 'Vision insurance', label: 'üëì Vision insurance' },
        { value: 'Unlimited vacation', label: 'üèùÔ∏è Unlimited vacation' },
        { value: 'Paid time off', label: 'üìÖ Paid time off' },
        { value: '4 day workweek', label: 'üå¥ 4 day workweek' },
        { value: 'Company retreats', label: 'üèîÔ∏è Company retreats' },
        { value: 'Coworking budget', label: 'üè¢ Coworking budget' },
        { value: 'Learning budget', label: 'üìö Learning budget' },
        { value: 'Home office budget', label: 'üñ•Ô∏è Home office budget' },
        { value: 'Remote first', label: 'üåê Remote first' },
        { value: 'Flexible schedule', label: 'üßò Flexible schedule' },
        { value: 'Equity / Stocks', label: 'üìà Equity / Stocks' },
        { value: 'Profit sharing', label: 'üí∏ Profit sharing' }
      ],
      technologies: [
        // Web / frontend
        {
          value: 'JavaScript',
          label: '‚ú® JavaScript',
          keywords: ['js', 'frontend', 'front-end']
        },
        {
          value: 'TypeScript',
          label: 'üî∑ TypeScript',
          keywords: ['ts', 'typescript', 'typed javascript']
        },
        {
          value: 'React',
          label: '‚öõÔ∏è React',
          keywords: ['reactjs', 'react.js', 'frontend']
        },
        {
          value: 'Next.js',
          label: '‚è≠Ô∏è Next.js',
          keywords: ['nextjs', 'next', 'react']
        },
        {
          value: 'Vue.js',
          label: 'üñºÔ∏è Vue.js',
          keywords: ['vue', 'vuejs', 'frontend']
        },
        {
          value: 'Angular',
          label: 'üÖ∞Ô∏è Angular',
          keywords: ['angularjs', 'angular']
        },

        // Backend
        {
          value: 'Node.js',
          label: 'üü¢ Node.js',
          keywords: ['node', 'nodejs', 'backend', 'fullstack']
        },
        {
          value: 'Python',
          label: 'üêç Python',
          keywords: ['python', 'django', 'flask', 'fastapi']
        },
        {
          value: 'Ruby on Rails',
          label: 'üíé Ruby on Rails',
          keywords: ['ruby', 'rails', 'ror']
        },
        {
          value: 'Go',
          label: 'üêπ Go',
          keywords: ['golang', 'go']
        },
        {
          value: 'Java',
          label: '‚òï Java',
          keywords: ['java', 'spring', 'spring boot']
        },
        {
          value: 'C# / .NET',
          label: 'üíª C# / .NET',
          keywords: ['c#', '.net', 'dotnet']
        },
        {
          value: 'PHP / Laravel',
          label: 'üêò PHP / Laravel',
          keywords: ['php', 'laravel', 'symfony']
        },

        // Mobile
        {
          value: 'React Native',
          label: 'üì± React Native',
          keywords: ['react native', 'mobile', 'ios', 'android']
        },
        {
          value: 'Flutter',
          label: 'üì± Flutter',
          keywords: ['flutter', 'dart', 'mobile']
        },
        {
          value: 'iOS (Swift)',
          label: 'üì± iOS (Swift)',
          keywords: ['ios', 'swift', 'iphone']
        },
        {
          value: 'Android (Kotlin)',
          label: 'ü§ñ Android (Kotlin)',
          keywords: ['android', 'kotlin']
        },

        // Data
        {
          value: 'SQL',
          label: 'üßÆ SQL',
          keywords: ['sql', 'postgres', 'mysql']
        },
        {
          value: 'PostgreSQL',
          label: 'üêò PostgreSQL',
          keywords: ['postgresql', 'postgres', 'sql']
        },
        {
          value: 'MySQL',
          label: 'üíæ MySQL',
          keywords: ['mysql', 'sql']
        },
        {
          value: 'Snowflake',
          label: '‚ùÑÔ∏è Snowflake',
          keywords: ['snowflake', 'data warehouse']
        },
        {
          value: 'BigQuery',
          label: 'üìä BigQuery',
          keywords: ['bigquery', 'gcp', 'data warehouse']
        },
        {
          value: 'dbt',
          label: 'üß± dbt',
          keywords: ['dbt', 'analytics engineering']
        },

        // Cloud / DevOps
        {
          value: 'AWS',
          label: '‚òÅÔ∏è AWS',
          keywords: ['aws', 'amazon web services']
        },
        {
          value: 'GCP',
          label: '‚òÅÔ∏è GCP',
          keywords: ['gcp', 'google cloud']
        },
        {
          value: 'Azure',
          label: '‚òÅÔ∏è Azure',
          keywords: ['azure', 'microsoft azure']
        },
        {
          value: 'Docker',
          label: 'üê≥ Docker',
          keywords: ['docker', 'containers']
        },
        {
          value: 'Kubernetes',
          label: '‚ò∏Ô∏è Kubernetes',
          keywords: ['kubernetes', 'k8s']
        },
        {
          value: 'Terraform',
          label: 'üß± Terraform',
          keywords: ['terraform', 'iac', 'infrastructure as code']
        },
        {
          value: 'CI/CD',
          label: 'üîÅ CI/CD',
          keywords: ['ci', 'cd', 'github actions', 'gitlab ci', 'circleci']
        },

        // AI / ML
        {
          value: 'Machine Learning',
          label: 'ü§ñ Machine Learning',
          keywords: ['ml', 'machine learning', 'ml engineer', 'ml scientist']
        },
        {
          value: 'Deep Learning',
          label: 'üß† Deep Learning',
          keywords: ['deep learning', 'dl', 'neural networks']
        },
        {
          value: 'PyTorch',
          label: 'üî• PyTorch',
          keywords: ['pytorch']
        },
        {
          value: 'TensorFlow',
          label: 'üß† TensorFlow',
          keywords: ['tensorflow']
        },
        {
          value: 'LLMs / GenAI',
          label: '‚ú® LLMs / GenAI',
          keywords: ['llm', 'large language model', 'gpt', 'gen ai', 'generative ai']
        }
      ],
      languages: [
        { value: 'English', label: 'üá¨üáß English', keywords: ['english', 'en'] },
        { value: 'Spanish', label: 'üá™üá∏ Spanish', keywords: ['spanish', 'es', 'espa√±ol'] },
        { value: 'Portuguese', label: 'üáßüá∑ Portuguese', keywords: ['portuguese', 'pt', 'portugu√™s'] },
        { value: 'French', label: 'üá´üá∑ French', keywords: ['french', 'fr', 'fran√ßais'] },
        { value: 'German', label: 'üá©üá™ German', keywords: ['german', 'de', 'deutsch'] },
        { value: 'Italian', label: 'üáÆüáπ Italian', keywords: ['italian', 'it', 'italiano'] },
        { value: 'Dutch', label: 'üá≥üá± Dutch', keywords: ['dutch', 'nl', 'nederlands'] }
      ]
    };

    const filterState = {
      locations: [],
      employment: [],
      experience: [],
      jobRoles: [],
      benefits: [],
      technologies: [],
      languages: []
    };

    const FILTER_LABELS = {
      locations: "Location",
      employment: "Employment",
      experience: "Experience",
      jobRoles: "Job Role",
      benefits: "Benefits",
      technologies: "Technologies",
      languages: "Languages"
    };

    const REQUIRED_FILTERS = ["locations", "employment", "experience", "jobRoles"];

    // ---------- Step 1: gate Step 2 ----------

    const firstNameInput = document.getElementById("firstNameInput");
    const emailInput = document.getElementById("emailInput");
    const the_nextStepButton = document.getElementById("nextStepButton");
    const step2Section = document.getElementById("step2");

    function isValidEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    the_nextStepButton.addEventListener("click", () => {
      const firstName = firstNameInput.value.trim();
      const email = emailInput.value.trim();
      let hasError = false;

      if (!firstName) {
        firstNameInput.classList.add("input-error");
        hasError = true;
      } else {
        firstNameInput.classList.remove("input-error");
      }

      if (!email || !isValidEmail(email)) {
        emailInput.classList.add("input-error");
        hasError = true;
      } else {
        emailInput.classList.remove("input-error");
      }

      if (hasError) {
        alert("Please enter your first name and a valid email to continue.");
        return;
      }

      step2Section.classList.remove("hidden");
      step2Section.scrollIntoView({ behavior: "smooth", block: "start" });
    });

    // ---------- Horizontal filter tabs + panel ----------

    let activeFilterKey = "locations";
    let currentSearchTerm = "";

    const filterTabsEl = document.getElementById("filterTabs");
    const filterPanelLabelEl = document.getElementById("filterPanelLabel");
    const filterPanelSummaryEl = document.getElementById("filterPanelSummary");
    const filterSearchInput = document.getElementById("filterSearchInput");
    const filterOptionsBody = document.getElementById("filterOptionsBody");

    function baseSummaryForEmpty(key) {
      if (key === "locations") return "Any location";
      if (key === "jobRoles") return "Search roles‚Ä¶";
      return "Select‚Ä¶";
    }

    function getSummaryForFilter(key) {
      const selected = filterState[key] || [];
      if (!selected.length) {
        return baseSummaryForEmpty(key);
      }
      const options = FILTER_OPTIONS[key] || [];
      const labels = options
        .filter((o) => selected.includes(o.value))
        .map((o) => o.label);
      return labels.join(" ¬∑ ");
    }

    function updateSummariesForFilter(key) {
      const summaryText = getSummaryForFilter(key);
      const tabSummarySpan = document.querySelector(
        `[data-tab-summary="${key}"]`
      );
      if (tabSummarySpan) tabSummarySpan.textContent = summaryText;
      if (key === activeFilterKey && filterPanelSummaryEl) {
        filterPanelSummaryEl.textContent = summaryText;
      }
      if (filterState[key] && filterState[key].length > 0) {
        const tab = document.querySelector(`.filter-tab[data-filter="${key}"]`);
        if (tab) {
          tab.classList.remove("missing");
          const icon = tab.querySelector(".filter-tab-missing-icon");
          if (icon) icon.remove();
        }
      }
    }

    function renderActiveFilterPanel() {
      const key = activeFilterKey;
      const options = FILTER_OPTIONS[key] || [];

      filterPanelLabelEl.textContent = FILTER_LABELS[key] + " preferences";
      filterPanelSummaryEl.textContent = getSummaryForFilter(key);

      const placeholderMap = {
        locations: "Search locations‚Ä¶",
        employment: "Search employment types‚Ä¶",
        experience: "Search levels‚Ä¶",
        jobRoles: "Search job titles‚Ä¶",
        benefits: "Search benefits‚Ä¶",
        technologies: "Search technologies‚Ä¶",
        languages: "Search languages‚Ä¶"
      };
      filterSearchInput.placeholder = placeholderMap[key] || "Search‚Ä¶";

      const term = (currentSearchTerm || "").toLowerCase();
      const filtered = options.filter((opt) => {
        if (!term) return true;
        const label = (opt.label || "").toLowerCase();
        const value = (opt.value || "").toLowerCase();
        const keywords = (opt.keywords || []).join(" ").toLowerCase();
        const category = (opt.category || "").toLowerCase();
        return (
          label.includes(term) ||
          value.includes(term) ||
          keywords.includes(term) ||
          category.includes(term)
        );
      });

      filterOptionsBody.innerHTML = "";

      if (!filtered.length) {
        const empty = document.createElement("div");
        empty.className = "dropdown-empty";
        empty.textContent = "No options match your search.";
        filterOptionsBody.appendChild(empty);
        return;
      }

      filtered.forEach((opt) => {
        const item = document.createElement("div");
        item.className = "dropdown-item";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = (filterState[key] || []).includes(opt.value);

        const label = document.createElement("span");
        label.className = "dropdown-item-label";
        label.textContent = opt.label + (opt.category ? ` ¬∑ ${opt.category}` : "");

        item.appendChild(checkbox);
        item.appendChild(label);

        item.addEventListener("click", () => {
          const current = new Set(filterState[key] || []);
          if (current.has(opt.value)) {
            current.delete(opt.value);
          } else {
            current.add(opt.value);
          }
          filterState[key] = Array.from(current);
          updateSummariesForFilter(key);
          renderActiveFilterPanel();
        });

        filterOptionsBody.appendChild(item);
      });
    }

    filterTabsEl.querySelectorAll(".filter-tab").forEach((tab) => {
      tab.addEventListener("click", () => {
        const key = tab.getAttribute("data-filter");
        if (!key || key === activeFilterKey) return;
        activeFilterKey = key;
        currentSearchTerm = "";
        filterSearchInput.value = "";

        filterTabsEl.querySelectorAll(".filter-tab").forEach((t) => {
          t.classList.toggle("active", t === tab);
        });

        renderActiveFilterPanel();
      });
    });

    filterSearchInput.addEventListener("input", (e) => {
      currentSearchTerm = e.target.value;
      renderActiveFilterPanel();
    });

    renderActiveFilterPanel();

    // ---------- Subscribe handler + success overlay ----------

    const subscribeButton = document.getElementById("subscribeButton");
    const statusMessageEl = document.getElementById("statusMessage");
    const highSalaryToggle = document.getElementById("highSalaryOnly");
    const successOverlay = document.getElementById("successOverlay");
    const successCloseButton = document.getElementById("successCloseButton");
    const frequencyRow = document.getElementById("frequencyRow");
    const frequencyInput = document.getElementById("frequencyInput");
    const successFirstName = document.getElementById("successFirstName");

    function closeSuccessOverlay() {
      successOverlay.classList.add("hidden");
      document.body.style.overflow = "";
    }

    successCloseButton.addEventListener("click", closeSuccessOverlay);
    successOverlay.addEventListener("click", (e) => {
      if (e.target === successOverlay) {
        closeSuccessOverlay();
      }
    });

    // frequency selector logic
    if (frequencyRow) {
      frequencyRow.querySelectorAll(".frequency-option").forEach(btn => {
        btn.addEventListener("click", () => {
          frequencyRow.querySelectorAll(".frequency-option").forEach(b =>
            b.classList.remove("selected")
          );
          btn.classList.add("selected");
          if (frequencyInput) {
            frequencyInput.value = btn.dataset.value;
          }
        });
      });
    }

    subscribeButton.addEventListener("click", async () => {
      const firstName = firstNameInput.value.trim();
      const email = emailInput.value.trim();
      statusMessageEl.textContent = "";
      statusMessageEl.className = "status-message";

      if (!firstName || !isValidEmail(email)) {
        alert("Please enter your first name and a valid email first.");
        return;
      }

      document.querySelectorAll(".filter-tab").forEach(tab => {
        tab.classList.remove("missing");
        const oldIcon = tab.querySelector(".filter-tab-missing-icon");
        if (oldIcon) oldIcon.remove();
      });

      const missingFilters = REQUIRED_FILTERS.filter(
        (key) => !filterState[key] || filterState[key].length === 0
      );

      if (missingFilters.length) {
        missingFilters.forEach(key => {
          const tab = document.querySelector(`.filter-tab[data-filter="${key}"]`);
          if (tab) {
            tab.classList.add("missing");
            const icon = document.createElement("span");
            icon.className = "filter-tab-missing-icon";
            icon.textContent = "‚ùó";
            tab.appendChild(icon);
          }
        });

        const firstMissing = document.querySelector(
          `.filter-tab[data-filter="${missingFilters[0]}"]`
        );
        if (firstMissing) {
          firstMissing.scrollIntoView({ behavior: "smooth", inline: "center" });
        }

        return;
      }

      subscribeButton.disabled = true;

      const payload = {
        firstName,
        email,
        filters: filterState,
        highSalaryOnly: !!highSalaryToggle.checked,
        frequency: frequencyInput ? frequencyInput.value : "biweekly"
      };

      try {
        const resp = await fetch("/api/subscribe", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });

        const data = await resp.json().catch(() => ({}));

        if (!resp.ok) {
          const msg =
            data && data.error
              ? data.error
              : "Something went wrong subscribing. Please try again.";
          statusMessageEl.textContent = msg;
          statusMessageEl.classList.add("error");
        } else {
          // success: show full-screen popup, no inline text
          statusMessageEl.textContent = "";
          statusMessageEl.classList.remove("error", "success");
          if (successFirstName) {
            successFirstName.textContent = firstName ? firstName + ", " : "";
          }
          successOverlay.classList.remove("hidden");
          document.body.style.overflow = "hidden";
        }
      } catch (err) {
        statusMessageEl.textContent =
          "Network error while subscribing. Please try again in a moment.";
        statusMessageEl.classList.add("error");
      } finally {
        subscribeButton.disabled = false;
      }
    });

    // ---------- Animated counter (99,950 -> 99,999) ----------

    (function initSubscriberCounter() {
      const el = document.getElementById("subscriberCount");
      if (!el) return;

      const start = 99950;
      const end = 99999;
      const stepMs = 3000;
      let current = start;

      el.textContent = current.toLocaleString("en-US");

      const timer = setInterval(() => {
        if (current >= end) {
          clearInterval(timer);
          return;
        }
        current += 1;
        el.textContent = current.toLocaleString("en-US");
      }, stepMs);
    })();
  </script>
</body>
</html>
