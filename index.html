<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ASAP Jobs â€“ Get the best remote jobs sent to you</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --bg: radial-gradient(circle at top, #dbeafe 0, #f5f3ff 32%, #f9fafb 65%, #f1f5f9 100%);
      --card: #ffffff;
      --border: #e2e8f0;
      --border-strong: #cbd5e1;
      --text-main: #020617;
      --text-muted: #6b7280;
      --accent-blue: #2563eb;
      --accent-blue-soft: #e0edff;
      --accent-green: #16a34a;
      --accent-green-soft: #dcfce7;
      --accent-purple: #4f46e5;
      --danger: #dc2626;
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.12);
      --chip-bg: #f8fafc;
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: var(--bg);
      min-height: 100vh;
      color: var(--text-main);
    }

    .page {
      max-width: 960px;
      margin: 0 auto;
      padding: 1.5rem 1.25rem 3rem;
    }

    .brand-row {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      margin-bottom: 1.75rem;
    }

    .brand-logo {
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: radial-gradient(circle at top left, #fee2e2 0, transparent 60%);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .brand-logo img {
      width: 32px;
      height: auto;
      display: block;
    }

    .brand-text-main {
      font-size: 0.8rem;
      font-weight: 700;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    .brand-text-sub {
      font-size: 0.8rem;
      color: #6b7280;
    }

    .hero {
      text-align: left;
      margin-bottom: 1.75rem;
    }

    .hero-title {
      font-size: clamp(1.9rem, 5vw, 2.6rem);
      margin: 0 0 0.6rem;
      font-weight: 800;
      letter-spacing: -0.03em;
      line-height: 1.1;
    }

    .hero-title span.highlight {
      color: var(--accent-blue);
    }

    .hero-subtitle {
      margin: 0;
      font-size: 0.98rem;
      line-height: 1.6;
      color: var(--text-muted);
      max-width: 520px;
    }

    .card {
      margin-top: 1.75rem;
      background: var(--card);
      border-radius: 1.25rem;
      border: 1px solid var(--border);
      box-shadow: var(--shadow-soft);
      padding: 1.4rem 1.3rem 1.6rem;
    }

    @media (min-width: 720px) {
      .card {
        padding: 1.7rem 1.9rem 1.9rem;
      }
    }

    .kicker {
      font-size: 0.78rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      font-weight: 600;
      color: #22c55e;
      margin-bottom: 0.45rem;
    }

    .step-title {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 0.3rem;
    }

    .step-subtitle {
      font-size: 0.92rem;
      color: var(--text-muted);
      margin-bottom: 0.85rem;
    }

    .pill-note {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.78rem;
      padding: 0.26rem 0.6rem;
      border-radius: 999px;
      background: var(--accent-blue-soft);
      color: var(--accent-blue);
      font-weight: 500;
      margin-bottom: 0.75rem;
    }

    .field-row {
      display: flex;
      flex-direction: column;
      gap: 0.65rem;
      margin-bottom: 0.9rem;
    }

    @media (min-width: 640px) {
      .field-row {
        flex-direction: row;
        align-items: center;
      }
    }

    .input {
      width: 100%;
      border-radius: 999px;
      border: 1px solid var(--border);
      padding: 0.75rem 1rem;
      font-size: 0.95rem;
      outline: none;
      background: #ffffff;
      color: var(--text-main);
    }

    .input:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 1px var(--accent-blue-soft);
    }

    .btn-primary {
      border: none;
      border-radius: 999px;
      padding: 0.8rem 1.4rem;
      font-size: 0.95rem;
      font-weight: 600;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      cursor: pointer;
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #ffffff;
      white-space: nowrap;
      box-shadow: 0 12px 25px rgba(22, 163, 74, 0.35);
    }

    .btn-primary[disabled] {
      cursor: not-allowed;
      opacity: 0.7;
      box-shadow: none;
    }

    .helper-text {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 0.4rem;
    }

    .step-divider {
      margin: 1.6rem 0 1.1rem;
      border-top: 1px dashed var(--border-strong);
    }

    .step-label {
      font-size: 0.78rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--accent-purple);
      font-weight: 600;
      margin-bottom: 0.3rem;
    }

    .pref-title-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 0.75rem;
    }

    .pref-title-row small {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .filters-grid {
      display: grid;
      grid-template-columns: minmax(0, 1fr);
      gap: 0.65rem;
      margin-bottom: 0.55rem;
    }

    @media (min-width: 640px) {
      .filters-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
      }
    }

    .filter-chip {
      border-radius: 999px;
      border: 1px solid var(--border);
      background: var(--chip-bg);
      padding: 0.6rem 0.9rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      gap: 0.75rem;
      font-size: 0.9rem;
    }

    .filter-chip-main {
      display: inline-flex;
      align-items: center;
      gap: 0.55rem;
    }

    .filter-chip-emoji {
      font-size: 1.05rem;
    }

    .filter-chip-label {
      font-weight: 600;
    }

    .filter-chip-value {
      font-size: 0.84rem;
      color: var(--text-muted);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 10rem;
    }

    @media (min-width: 768px) {
      .filter-chip-value {
        max-width: 13rem;
      }
    }

    .filter-chip-arrow {
      font-size: 0.9rem;
      color: #9ca3af;
    }

    .filter-chip.active {
      background: #e0e7ff;
      border-color: #4f46e5;
      box-shadow: 0 0 0 1px rgba(79, 70, 229, 0.2);
    }

    .filters-shell {
      position: relative;
    }

    .filter-panel {
      margin-top: 0.65rem;
      border-radius: 0.9rem;
      border: 1px solid var(--border-strong);
      background: #f9fafb;
      padding: 0.6rem 0.7rem 0.7rem;
      display: none;
      max-height: 280px;
      overflow: hidden;
    }

    .filter-panel.active {
      display: block;
    }

    .filter-search {
      width: 100%;
      border-radius: 0.75rem;
      border: 1px solid var(--border);
      padding: 0.4rem 0.7rem;
      font-size: 0.86rem;
      margin-bottom: 0.45rem;
      outline: none;
    }

    .filter-search:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 1px var(--accent-blue-soft);
    }

    .option-list {
      max-height: 190px;
      overflow-y: auto;
      padding-right: 0.3rem;
    }

    .filter-option {
      width: 100%;
      border: none;
      background: transparent;
      border-radius: 0.6rem;
      padding: 0.36rem 0.4rem;
      text-align: left;
      font-size: 0.9rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
    }

    .filter-option-main {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
    }

    .filter-option-emoji {
      width: 1.3rem;
      text-align: center;
    }

    .filter-option-label {
      white-space: nowrap;
    }

    .filter-option-tag {
      font-size: 0.7rem;
      color: var(--text-muted);
    }

    .filter-option.selected {
      background: var(--accent-blue-soft);
      color: var(--accent-blue);
      font-weight: 600;
    }

    .filter-all {
      font-size: 0.8rem;
      font-weight: 500;
      padding: 0.35rem 0.4rem;
      margin-bottom: 0.2rem;
      border-radius: 0.5rem;
      background: #ecfdf3;
      color: #15803d;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .high-salary-row {
      display: flex;
      align-items: center;
      gap: 0.45rem;
      margin-top: 0.55rem;
      margin-bottom: 0.3rem;
      font-size: 0.9rem;
    }

    .high-salary-row input {
      width: 18px;
      height: 18px;
    }

    .status-text {
      font-size: 0.8rem;
      margin-top: 0.5rem;
    }

    .status-text.error {
      color: var(--danger);
    }

    .status-text.success {
      color: var(--accent-green);
    }

    .footer-note {
      font-size: 0.78rem;
      color: var(--text-muted);
      margin-top: 0.5rem;
    }
  </style>
</head>
<body>
  <main class="page">
    <!-- Brand -->
    <header class="brand-row">
      <div class="brand-logo">
        <img src="asap-logo.png" alt="ASAP Jobs logo" />
      </div>
      <div>
        <div class="brand-text-main">ASAP JOBS</div>
        <div class="brand-text-sub">High-paying remote roles, delivered fast</div>
      </div>
    </header>

    <!-- Hero -->
    <section class="hero">
      <h1 class="hero-title">
        Get the <span class="highlight">best remote jobs</span> sent to you.
      </h1>
      <p class="hero-subtitle">
        Tell us your email once, then choose exactly what youâ€™re looking for.
        Weâ€™ll only send curated, high-paying remote roles that match your filters.
      </p>
    </section>

    <!-- Main card -->
    <section class="card">
      <!-- STEP 1: Email + name -->
      <div>
        <div class="kicker">Step 1 Â· Your email</div>
        <h2 class="step-title">Start your personalized job feed.</h2>
        <p class="step-subtitle">
          Pop in your email and first name. Next, weâ€™ll ask a few quick questions
          about location, experience, salary and tech stack so we only send you
          relevant roles.
        </p>

        <div class="pill-note">
          âš¡ Hand-picked from hundreds of job sites &amp; company pages
        </div>

        <div class="field-row">
          <input
            id="firstNameInput"
            class="input"
            type="text"
            autocomplete="given-name"
            placeholder="First name"
          />
          <input
            id="emailInput"
            class="input"
            type="email"
            autocomplete="email"
            placeholder="you@example.com"
          />
        </div>

        <button id="step1NextBtn" class="btn-primary" type="button">
          Next: choose filters âš¡
        </button>

        <p class="helper-text">
          Weâ€™ll never share your email. Next step: weâ€™ll ask for your job preferences.
        </p>
      </div>

      <!-- Divider -->
      <div class="step-divider"></div>

      <!-- STEP 2: Filters -->
      <div id="step2">
        <div class="step-label">Step 2 Â· Your job preferences</div>
        <div class="pref-title-row">
          <h2 class="step-title">Tell us what kind of roles you want.</h2>
          <small>Choose one or more options for every filter so we can tailor your job alerts.</small>
        </div>

        <div class="filters-shell">
          <!-- chips -->
          <div class="filters-grid" id="filterChips"></div>
          <!-- dynamic filter panels -->
          <div id="filterPanels"></div>
        </div>

        <label class="high-salary-row">
          <input type="checkbox" id="highSalaryToggle" />
          <span>ðŸ’° High salary only <strong>($100k+)</strong></span>
        </label>

        <button id="subscribeBtn" class="btn-primary" type="button">
          Get remote jobs ASAP âš¡
        </button>

        <p id="statusMessage" class="status-text" style="display:none;"></p>

        <p class="footer-note">
          No spam, ever. Unsubscribe in one click. Youâ€™ll only receive remote jobs and
          occasional job-search tips from ASAP.
        </p>
      </div>
    </section>
  </main>

  <script>
    /***********************
     * FILTER CONFIG
     **********************/
    const FILTERS = {
      location: {
        key: "location",
        label: "Location",
        emoji: "ðŸŒ",
        allLabel: "All locations",
        searchPlaceholder: "Search locationsâ€¦",
        options: [
          // Remote / hybrid
          { value: "remote", label: "Remote", emoji: "ðŸ¡" },
          { value: "hybrid", label: "Hybrid", emoji: "ðŸ™ï¸" },

          // Regions & continents
          { value: "worldwide", label: "Worldwide", emoji: "ðŸŒ" },
          { value: "north-america", label: "North America", emoji: "ðŸŒŽ" },
          { value: "latin-america", label: "Latin America", emoji: "ðŸª…" },
          { value: "europe", label: "Europe", emoji: "ðŸ‡ªðŸ‡º" },
          { value: "emea", label: "EMEA", emoji: "ðŸŒ" },
          { value: "apac", label: "APAC", emoji: "ðŸŒ" },
          { value: "asia", label: "Asia", emoji: "ðŸ—ºï¸" },
          { value: "oceania", label: "Oceania", emoji: "ðŸŒŠ" },
          { value: "africa", label: "Africa", emoji: "ðŸ¦" },
          { value: "middle-east", label: "Middle East", emoji: "ðŸ•Œ" },

          // Key countries
          { value: "us", label: "United States", emoji: "ðŸ‡ºðŸ‡¸" },
          { value: "canada", label: "Canada", emoji: "ðŸ‡¨ðŸ‡¦" },
          { value: "uk", label: "United Kingdom", emoji: "ðŸ‡¬ðŸ‡§" },
          { value: "germany", label: "Germany", emoji: "ðŸ‡©ðŸ‡ª" },
          { value: "france", label: "France", emoji: "ðŸ‡«ðŸ‡·" },
          { value: "spain", label: "Spain", emoji: "ðŸ‡ªðŸ‡¸" },
          { value: "portugal", label: "Portugal", emoji: "ðŸ‡µðŸ‡¹" },
          { value: "netherlands", label: "Netherlands", emoji: "ðŸ‡³ðŸ‡±" },
          { value: "sweden", label: "Sweden", emoji: "ðŸ‡¸ðŸ‡ª" },
          { value: "switzerland", label: "Switzerland", emoji: "ðŸ‡¨ðŸ‡­" },
          { value: "australia", label: "Australia", emoji: "ðŸ‡¦ðŸ‡º" },
          { value: "new-zealand", label: "New Zealand", emoji: "ðŸ‡³ðŸ‡¿" },
          { value: "india", label: "India", emoji: "ðŸ‡®ðŸ‡³" },
          { value: "brazil", label: "Brazil", emoji: "ðŸ‡§ðŸ‡·" },
          { value: "mexico", label: "Mexico", emoji: "ðŸ‡²ðŸ‡½" }
        ]
      },
      employment: {
        key: "employment",
        label: "Employment",
        emoji: "ðŸ’¼",
        allLabel: "All types",
        searchPlaceholder: "Search employment typesâ€¦",
        options: [
          { value: "full-time", label: "Full-time", emoji: "â°" },
          { value: "part-time", label: "Part-time", emoji: "ðŸ•’" },
          { value: "freelance", label: "Freelance", emoji: "ðŸ§¾" },
          { value: "contract", label: "Contract", emoji: "ðŸ“ƒ" },
          { value: "temporary", label: "Temporary", emoji: "ðŸ“†" },
          { value: "four-day-week", label: "4-day week", emoji: "ðŸ–ï¸" },
          { value: "internship", label: "Internship", emoji: "ðŸŽ“" }
        ]
      },
      experience: {
        key: "experience",
        label: "Experience",
        emoji: "â­",
        allLabel: "All levels",
        searchPlaceholder: "Search levelsâ€¦",
        options: [
          { value: "entry", label: "Entry Level", emoji: "ðŸŒ±" },
          { value: "junior", label: "Junior", emoji: "ðŸ‘¶" },
          { value: "mid", label: "Mid-Level", emoji: "â­" },
          { value: "senior", label: "Senior", emoji: "ðŸ’¼" },
          { value: "lead", label: "Lead", emoji: "ðŸ§ " },
          { value: "manager", label: "Manager / Head of", emoji: "ðŸ“Š" },
          { value: "director", label: "Director", emoji: "ðŸŽ¯" },
          { value: "vp", label: "VP / C-level", emoji: "ðŸ†" }
        ]
      },
      jobCategory: {
        key: "jobCategory",
        label: "Job Category",
        emoji: "ðŸ“¦",
        allLabel: "All categories",
        searchPlaceholder: "Search categoriesâ€¦",
        options: [
          { value: "engineering", label: "Engineering", emoji: "ðŸ’»" },
          { value: "product", label: "Product", emoji: "ðŸ“¦" },
          { value: "design", label: "Design / UX", emoji: "ðŸŽ¨" },
          { value: "data", label: "Data / Analytics", emoji: "ðŸ“Š" },
          { value: "ai-ml", label: "AI / ML", emoji: "ðŸ¤–" },
          { value: "devops", label: "DevOps / SRE", emoji: "ðŸ§°" },
          { value: "mobile", label: "Mobile", emoji: "ðŸ“±" },
          { value: "marketing", label: "Marketing / Growth", emoji: "ðŸ“ˆ" },
          { value: "sales", label: "Sales", emoji: "ðŸ’¼" },
          { value: "customer-success", label: "Customer Success", emoji: "ðŸŽ§" },
          { value: "operations", label: "Operations", emoji: "âš™ï¸" },
          { value: "support", label: "Support", emoji: "ðŸ›Ÿ" },
          { value: "finance", label: "Finance", emoji: "ðŸ’°" },
          { value: "people", label: "People / HR / Recruiting", emoji: "ðŸ§‘â€ðŸ’¼" },
          { value: "founder-exec", label: "Founder / Executive", emoji: "ðŸ›ï¸" }
        ]
      },
      benefits: {
        key: "benefits",
        label: "Benefits",
        emoji: "ðŸ–ï¸",
        allLabel: "All benefits",
        searchPlaceholder: "Search benefitsâ€¦",
        options: [
          { value: "remote-first", label: "Remote-first", emoji: "ðŸï¸" },
          { value: "async", label: "Async team", emoji: "â³" },
          { value: "home-office", label: "Home office budget", emoji: "ðŸ–¥ï¸" },
          { value: "learning", label: "Learning budget", emoji: "ðŸ“š" },
          { value: "coworking", label: "Coworking budget", emoji: "ðŸ¢" },
          { value: "company-retreats", label: "Company retreats", emoji: "â›°ï¸" },
          { value: "equity", label: "Equity / Stocks", emoji: "ðŸ“ˆ" },
          { value: "bonus", label: "Performance bonus", emoji: "ðŸŽ¯" },
          { value: "health-insurance", label: "Health insurance", emoji: "ðŸ©º" },
          { value: "mental-health", label: "Mental health support", emoji: "ðŸ§ " },
          { value: "parental-leave", label: "Parental leave", emoji: "ðŸ‘¶" },
          { value: "unlimited-time-off", label: "Unlimited time off", emoji: "ðŸŒ´" },
          { value: "four-day-week", label: "4-day work week", emoji: "ðŸ“†" },
          { value: "flexible-hours", label: "Flexible schedule", emoji: "ðŸ•°ï¸" }
        ]
      },
      technologies: {
        key: "technologies",
        label: "Technologies",
        emoji: "ðŸ‘¾",
        allLabel: "All technologies",
        searchPlaceholder: "Search technologiesâ€¦",
        options: [
          { value: "python", label: "Python", emoji: "ðŸ" },
          { value: "javascript", label: "JavaScript", emoji: "ðŸ“œ" },
          { value: "typescript", label: "TypeScript", emoji: "ðŸ”·" },
          { value: "react", label: "React", emoji: "âš›ï¸" },
          { value: "node", label: "Node.js", emoji: "ðŸŸ¢" },
          { value: "nextjs", label: "Next.js", emoji: "â­ï¸" },
          { value: "java", label: "Java", emoji: "â˜•" },
          { value: "go", label: "Go", emoji: "ðŸ¹" },
          { value: "ruby", label: "Ruby / Rails", emoji: "ðŸ’Ž" },
          { value: "php", label: "PHP", emoji: "ðŸ˜" },
          { value: "aws", label: "AWS", emoji: "â˜ï¸" },
          { value: "gcp", label: "GCP", emoji: "ðŸŒ©ï¸" },
          { value: "azure", label: "Azure", emoji: "ðŸŒ€" },
          { value: "postgres", label: "PostgreSQL", emoji: "ðŸ˜" },
          { value: "mongodb", label: "MongoDB", emoji: "ðŸƒ" },
          { value: "kubernetes", label: "Kubernetes", emoji: "ðŸ“¦" },
          { value: "docker", label: "Docker", emoji: "ðŸ³" },
          { value: "llms", label: "LLMs / GenAI", emoji: "ðŸ¤–" },
          { value: "data-eng", label: "Data engineering", emoji: "ðŸ§±" }
        ]
      },
      languages: {
        key: "languages",
        label: "Languages",
        emoji: "ðŸ—£ï¸",
        allLabel: "All languages",
        searchPlaceholder: "Search languagesâ€¦",
        options: [
          { value: "english", label: "English", emoji: "ðŸ‡¬ðŸ‡§" },
          { value: "spanish", label: "Spanish", emoji: "ðŸ‡ªðŸ‡¸" },
          { value: "portuguese", label: "Portuguese", emoji: "ðŸ‡µðŸ‡¹" },
          { value: "german", label: "German", emoji: "ðŸ‡©ðŸ‡ª" },
          { value: "french", label: "French", emoji: "ðŸ‡«ðŸ‡·" },
          { value: "italian", label: "Italian", emoji: "ðŸ‡®ðŸ‡¹" },
          { value: "dutch", label: "Dutch", emoji: "ðŸ‡³ðŸ‡±" },
          { value: "swedish", label: "Swedish", emoji: "ðŸ‡¸ðŸ‡ª" },
          { value: "norwegian", label: "Norwegian", emoji: "ðŸ‡³ðŸ‡´" },
          { value: "danish", label: "Danish", emoji: "ðŸ‡©ðŸ‡°" },
          { value: "polish", label: "Polish", emoji: "ðŸ‡µðŸ‡±" },
          { value: "turkish", label: "Turkish", emoji: "ðŸ‡¹ðŸ‡·" },
          { value: "russian", label: "Russian", emoji: "ðŸ‡·ðŸ‡º" },
          { value: "arabic", label: "Arabic", emoji: "ðŸ‡¸ðŸ‡¦" },
          { value: "hindi", label: "Hindi", emoji: "ðŸ‡®ðŸ‡³" },
          { value: "urdu", label: "Urdu", emoji: "ðŸ‡µðŸ‡°" },
          { value: "japanese", label: "Japanese", emoji: "ðŸ‡¯ðŸ‡µ" },
          { value: "korean", label: "Korean", emoji: "ðŸ‡°ðŸ‡·" },
          { value: "chinese", label: "Chinese (Mandarin)", emoji: "ðŸ‡¨ðŸ‡³" }
        ]
      }
    };

    // state
    const filterState = {};
    Object.keys(FILTERS).forEach((k) => (filterState[k] = new Set()));

    const chipsContainer = document.getElementById("filterChips");
    const panelsContainer = document.getElementById("filterPanels");
    const highSalaryToggle = document.getElementById("highSalaryToggle");
    const statusEl = document.getElementById("statusMessage");
    const subscribeBtn = document.getElementById("subscribeBtn");
    const step1NextBtn = document.getElementById("step1NextBtn");
    const emailInput = document.getElementById("emailInput");
    const firstNameInput = document.getElementById("firstNameInput");

    /***********************
     * RENDER UI
     **********************/
    function createChip(filter) {
      const chip = document.createElement("button");
      chip.type = "button";
      chip.className = "filter-chip";
      chip.dataset.filterKey = filter.key;

      chip.innerHTML = `
        <div class="filter-chip-main">
          <span class="filter-chip-emoji">${filter.emoji}</span>
          <span class="filter-chip-label">${filter.label}</span>
        </div>
        <div class="filter-chip-value" data-chip-value="${filter.key}">Selectâ€¦</div>
        <span class="filter-chip-arrow">â–¾</span>
      `;

      chip.addEventListener("click", () => openPanel(filter.key));
      return chip;
    }

    function createPanel(filter) {
      const panel = document.createElement("div");
      panel.className = "filter-panel";
      panel.dataset.filterKey = filter.key;

      panel.innerHTML = `
        <button type="button" class="filter-all" data-filter-key="${filter.key}">
          âœ… ${filter.allLabel}
        </button>
        <input type="text" class="filter-search" placeholder="${filter.searchPlaceholder}" data-search-key="${filter.key}" />
        <div class="option-list" data-options-key="${filter.key}">
        </div>
      `;

      const listEl = panel.querySelector(`[data-options-key="${filter.key}"]`);

      filter.options.forEach((opt) => {
        const optBtn = document.createElement("button");
        optBtn.type = "button";
        optBtn.className = "filter-option";
        optBtn.dataset.filterKey = filter.key;
        optBtn.dataset.value = opt.value;

        optBtn.innerHTML = `
          <div class="filter-option-main">
            <span class="filter-option-emoji">${opt.emoji || ""}</span>
            <span class="filter-option-label">${opt.label}</span>
          </div>
        `;
        optBtn.addEventListener("click", () => toggleOption(filter.key, opt.value));
        listEl.appendChild(optBtn);
      });

      // clear / all
      panel.querySelector(".filter-all").addEventListener("click", () => {
        filterState[filter.key].clear();
        updateUI();
      });

      // search
      const searchInput = panel.querySelector(`[data-search-key="${filter.key}"]`);
      searchInput.addEventListener("input", () => filterOptions(filter.key, searchInput.value));

      return panel;
    }

    function renderFilters() {
      Object.values(FILTERS).forEach((filter) => {
        chipsContainer.appendChild(createChip(filter));
        panelsContainer.appendChild(createPanel(filter));
      });
    }

    /***********************
     * BEHAVIOUR
     **********************/
    function openPanel(key) {
      document.querySelectorAll(".filter-panel").forEach((p) => {
        p.classList.toggle("active", p.dataset.filterKey === key);
      });
      document.querySelectorAll(".filter-chip").forEach((c) => {
        c.classList.toggle("active", c.dataset.filterKey === key);
      });
    }

    function filterOptions(key, term) {
      const filter = FILTERS[key];
      if (!filter) return;
      const lc = term.trim().toLowerCase();
      const listEl = document.querySelector(`.option-list[data-options-key="${key}"]`);
      listEl.querySelectorAll(".filter-option").forEach((btn) => {
        const label = btn.querySelector(".filter-option-label").textContent.toLowerCase();
        btn.style.display = !lc || label.includes(lc) ? "flex" : "none";
      });
    }

    function toggleOption(key, value) {
      const set = filterState[key];
      if (set.has(value)) {
        set.delete(value);
      } else {
        set.add(value);
      }
      updateUI();
    }

    function describeSelection(key) {
      const set = filterState[key];
      if (!set || set.size === 0) return "Selectâ€¦";
      const filter = FILTERS[key];
      const labels = [];
      filter.options.forEach((opt) => {
        if (set.has(opt.value)) labels.push(opt.label);
      });
      return labels.join(", ");
    }

    function updateUI() {
      // update chip labels
      Object.keys(FILTERS).forEach((key) => {
        const valueEl = document.querySelector(`[data-chip-value="${key}"]`);
        if (!valueEl) return;
        valueEl.textContent = describeSelection(key);
      });

      // mark selected options
      document.querySelectorAll(".filter-option").forEach((btn) => {
        const key = btn.dataset.filterKey;
        const value = btn.dataset.value;
        btn.classList.toggle("selected", filterState[key].has(value));
      });
    }

    function allFiltersHaveSelection() {
      return Object.keys(FILTERS).every((key) => filterState[key].size > 0);
    }

    function showStatus(message, type) {
      statusEl.style.display = "block";
      statusEl.textContent = message;
      statusEl.className = `status-text ${type}`;
    }

    function clearStatus() {
      statusEl.style.display = "none";
      statusEl.textContent = "";
      statusEl.className = "status-text";
    }

    /***********************
     * STEP 1 BUTTON
     **********************/
    step1NextBtn.addEventListener("click", () => {
      clearStatus();
      const email = emailInput.value.trim();
      const firstName = firstNameInput.value.trim();

      if (!firstName) {
        showStatus("Please add your first name to personalize your alerts.", "error");
        firstNameInput.focus();
        return;
      }

      if (!email || !email.includes("@")) {
        showStatus("Please enter a valid email address to continue.", "error");
        emailInput.focus();
        return;
      }

      // scroll to preferences
      document.getElementById("step2").scrollIntoView({ behavior: "smooth", block: "start" });
    });

    /***********************
     * SUBSCRIBE BUTTON
     **********************/
    subscribeBtn.addEventListener("click", async () => {
      clearStatus();

      const email = emailInput.value.trim();
      const firstName = firstNameInput.value.trim();

      if (!firstName || !email || !email.includes("@")) {
        showStatus("Please complete Step 1 (first name and email) before subscribing.", "error");
        return;
      }

      if (!allFiltersHaveSelection()) {
        showStatus("Please choose at least one option for every filter so we can match you with the right jobs.", "error");
        return;
      }

      subscribeBtn.disabled = true;
      subscribeBtn.textContent = "Subscribingâ€¦";

      const prefs = {};
      Object.keys(FILTERS).forEach((key) => {
        const labels = [];
        FILTERS[key].options.forEach((opt) => {
          if (filterState[key].has(opt.value)) labels.push(opt.label);
        });
        prefs[key] = labels.join(", ");
      });

      prefs.highSalaryOnly = highSalaryToggle.checked;
      prefs.activeFilters = Object.keys(FILTERS)
        .map((key) => `${FILTERS[key].label}: ${prefs[key] || "Any"}`)
        .join(" | ");

      try {
        const resp = await fetch("/.netlify/functions/subscribe", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({
            email,
            firstName,
            preferences: prefs
          })
        });

        if (!resp.ok) {
          const text = await resp.text();
          console.error("Subscribe error:", text);
          showStatus("Something went wrong subscribing. Please try again in a moment.", "error");
        } else {
          showStatus("Youâ€™re in! Check your inbox for a confirmation email and your first remote roles soon. ðŸš€", "success");
        }
      } catch (err) {
        console.error(err);
        showStatus("Network error while subscribing. Please try again.", "error");
      } finally {
        subscribeBtn.disabled = false;
        subscribeBtn.textContent = "Get remote jobs ASAP âš¡";
      }
    });

    /***********************
     * INIT
     **********************/
    renderFilters();
    updateUI();
  </script>
</body>
</html>
